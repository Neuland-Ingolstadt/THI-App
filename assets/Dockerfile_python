FROM python:3
WORKDIR /opt/
## Update Repos and install needed libraries
RUN apt-get update && apt-get install -y libgl1 ghostscript

## Copy paths
COPY all_python/spo-parser spo-parser/.
COPY all_python/room-distances room-distances/.
COPY all_python/course-downloader course-downloader/.
COPY all_python/thi-translator thi-translator/.
COPY all_python/install.sh .
COPY all_python/run.sh .

## Make Bash scripts executable
RUN chmod +x install.sh
RUN chmod +x run.sh

## Run Pip Installation (Only needed Once)
RUN ./install.sh

## Set an entrypoint to run the container once a day
ENTRYPOINT ["bash", "run.sh"] 